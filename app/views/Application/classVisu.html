#{extends 'main.html' /}
#{set title:ftcClass.ftcId + ' - ' + ftcClass.label /}

#{script 'toggle.js' /}
#{script 'showMore.js' /}

<h1 id="class-title"><span id="classId">${ftcClass.ftcId}</span> - ${ftcClass.label}</h1>

<div class="block-information" id="definition">
    <h2>Definition</h2>
    <p>${ftcClass.comment.raw()}</p>
</div>

<nav class="agents block-information moreDirectAgentsWrap">
    <h2>
    <span class="togglable">[-] </span>
    <span class="togglable" style="display: none">[+] </span>
    Direct Agents<span class="numbers"> (<span id="currentNumbermoreDirectAgents">${directAgents.size()}</span> 
    of <span id="totalNumbermoreDirectAgents">${ftcClass.directAgents.size()})</span></h2>
      <ul>
        #{list items:directAgents, as:'directAgent' }
        <a href="@{Application.agent(directAgent.drugBankId)}">
        	<li class="transition direct">${directAgent.drugBankId} - ${directAgent.label}</li>
        </a>
        #{/list}
      </ul>
      #{if directAgents.size() < ftcClass.directAgents.size()}<div class="showMore" id="moreDirectAgents">Show more</div>#{/if}
</nav>

<nav class="agents block-information moreIndirectAgentsWrap">
    <h2>
    <span class="togglable">[-] </span>
    <span class="togglable" style="display: none">[+] </span>
    Indirect Agents<span class="numbers"> (<span id="currentNumbermoreIndirectAgents">${indirectAgents.size()}</span> 
    of <span id="totalNumbermoreIndirectAgents">${ftcClass.indirectAgents.size()})</span></h2>
      <ul>
        #{list items:indirectAgents, as:'indirectAgent' }
        <a href="@{Application.agent(indirectAgent.drugBankId)}">
        	<li class="transition inferred">${indirectAgent.drugBankId} - ${indirectAgent.label}</li>
        </a>
        #{/list}
      </ul>
      #{if indirectAgents.size() < ftcClass.indirectAgents.size()}<div class="showMore" id="moreIndirectAgents">Show more</div>#{/if}
</nav>

<nav class="class-info block-information moreSuperclassesWrap">
    <h2>
    <span class="togglable">[-] </span>
    <span class="togglable" style="display: none">[+] </span>
    Super class${superClasses.size().pluralize('es')}<span class="numbers"> (<span id="currentNumbermoreSuperclasses">${superClasses.size()}</span> 
    of <span id="totalNumbermoreSuperclasses">${ftcClass.superClasses.size()})</span></h2>
      <ul>
        #{list items:superClasses, as:'superClass' }
        <a href="@{Application.classVisu(superClass.ftcId)}">
        	<li class="transition direct #{if superClass.indirectAgents.size() > 0 || superClass.directAgents.size() > 0}has-drug#{/if}">
        	${superClass.ftcId} - ${superClass.label}</li>
        </a>
        #{/list}
      </ul>
      #{if superClasses.size() < ftcClass.superClasses.size()}<div class="showMore" id="moreSuperclasses">Show more</div>#{/if}
</nav>

<nav class="class-info block-information moreSubclassesWrap">
    <h2>
    <span class="togglable">[-] </span>
    <span class="togglable" style="display: none">[+] </span>
    Subclass${subClasses.size().pluralize('es')}<span class="numbers"> (<span id="currentNumbermoreSubclasses">${subClasses.size()}</span> 
    of <span id="totalNumbermoreSubclasses">${ftcClass.subClasses.size()})</span></h2>
      <ul>
        #{list items:subClasses, as:'subClass' }
        
        <a href="@{Application.classVisu(subClass.ftcId)}">
        	<li class="transition direct #{if subClass.indirectAgents.size() > 0 || subClass.directAgents.size() > 0}has-drug#{/if}">
        	${subClass.ftcId} - ${subClass.label}</li>
        </a>
       
        #{/list}
      </ul>
      #{if subClasses.size() < ftcClass.subClasses.size()}<div class="showMore" id="moreSubclasses">Show more</div>#{/if}
</nav>



<nav class="block-information">
<h2>Taxonomic Tree</h2>
<div id="svg-wraper" style="width: ${ratioSvg}">
	${ftcClass.svgGraph.raw()}
</div>
</nav>